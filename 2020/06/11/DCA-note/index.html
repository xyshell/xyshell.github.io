<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"xyshell.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":true,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":350,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":3,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Docker Certified Associate Exam Preparation Guide (v1.3)  Domain 1: Orchestration (25% of exam)  Complete the setup of a swarm mode cluster, with managers and worker nodes 123$ docker swarm init$ doc">
<meta property="og:type" content="article">
<meta property="og:title" content="DCA Note">
<meta property="og:url" content="https://xyshell.github.io/2020/06/11/DCA-note/index.html">
<meta property="og:site_name" content="You Xie&#39;s Blog">
<meta property="og:description" content="Docker Certified Associate Exam Preparation Guide (v1.3)  Domain 1: Orchestration (25% of exam)  Complete the setup of a swarm mode cluster, with managers and worker nodes 123$ docker swarm init$ doc">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-06-11T21:38:24.000Z">
<meta property="article:modified_time" content="2023-09-27T05:59:01.861Z">
<meta property="article:author" content="You Xie">
<meta property="article:tag" content="docker, DCA">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://xyshell.github.io/2020/06/11/DCA-note/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://xyshell.github.io/2020/06/11/DCA-note/","path":"2020/06/11/DCA-note/","title":"DCA Note"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>DCA Note | You Xie's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KJL0CGYTBX"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KJL0CGYTBX","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">You Xie's Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#docker-certified-associate-exam-preparation-guide-v13"><span class="nav-number">1.</span> <span class="nav-text"> Docker Certified Associate Exam Preparation Guide (v1.3)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#domain-1-orchestration-25-of-exam"><span class="nav-number">1.1.</span> <span class="nav-text"> Domain 1: Orchestration (25% of exam)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#complete-the-setup-of-a-swarm-mode-cluster-with-managers-and-worker-nodes"><span class="nav-number">1.1.1.</span> <span class="nav-text"> Complete the setup of a swarm mode cluster, with managers and worker nodes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-how-to-extend-the-instructions-to-run-individual-containers-into-running-services-under-swarm"><span class="nav-number">1.1.2.</span> <span class="nav-text"> Describe and demonstrate how to extend the instructions to run individual containers into running services under swarm</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-the-importance-of-quorum-in-a-swarm-cluster"><span class="nav-number">1.1.3.</span> <span class="nav-text"> Describe the importance of quorum in a swarm cluster.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-the-difference-between-running-a-container-and-running-a-service"><span class="nav-number">1.1.4.</span> <span class="nav-text"> Describe the difference between running a container and running a service.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#interpret-the-output-of-docker-inspect-commands"><span class="nav-number">1.1.5.</span> <span class="nav-text"> Interpret the output of “docker inspect” commands</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#convert-an-application-deployment-into-a-stack-file-using-a-yaml-compose-file-with-docker-stack-deploy"><span class="nav-number">1.1.6.</span> <span class="nav-text"> Convert an application deployment into a stack file using a YAML compose file with “docker stack deploy”</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#manipulate-a-running-stack-of-services"><span class="nav-number">1.1.7.</span> <span class="nav-text"> Manipulate a running stack of services</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-orchestration-activities"><span class="nav-number">1.1.8.</span> <span class="nav-text"> Describe and demonstrate orchestration activities</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#increase-number-of-replicas"><span class="nav-number">1.1.9.</span> <span class="nav-text"> Increase number of replicas</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#add-networks-publish-ports"><span class="nav-number">1.1.10.</span> <span class="nav-text"> Add networks, publish ports</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mount-volumes"><span class="nav-number">1.1.11.</span> <span class="nav-text"> Mount volumes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-how-to-run-replicated-and-global-services"><span class="nav-number">1.1.12.</span> <span class="nav-text"> Describe and demonstrate how to run replicated and global services</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#apply-node-labels-to-demonstrate-placement-of-tasks"><span class="nav-number">1.1.13.</span> <span class="nav-text"> Apply node labels to demonstrate placement of tasks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-how-to-use-templates-with-docker-service-create"><span class="nav-number">1.1.14.</span> <span class="nav-text"> Describe and demonstrate how to use templates with “docker service create”</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#identify-the-steps-needed-to-troubleshoot-a-service-not-deploying"><span class="nav-number">1.1.15.</span> <span class="nav-text"> Identify the steps needed to troubleshoot a service not deploying</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-how-a-dockerized-application-communicates-with-legacy-systems"><span class="nav-number">1.1.16.</span> <span class="nav-text"> Describe how a Dockerized application communicates with legacy systems</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-how-to-deploy-containerized-workloads-as-kubernetes-pods-and-deployments"><span class="nav-number">1.1.17.</span> <span class="nav-text"> Describe how to deploy containerized workloads as Kubernetes pods and deployments</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-how-to-provide-configuration-to-kubernetes-pods-using-configmaps-and-secrets"><span class="nav-number">1.1.18.</span> <span class="nav-text"> Describe how to provide configuration to Kubernetes pods using configMaps and secrets</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#domain-2-image-creation-management-and-registry-20-of-exam"><span class="nav-number">1.2.</span> <span class="nav-text"> Domain 2: Image Creation, Management, and Registry (20% of exam)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-the-use-of-dockerfile"><span class="nav-number">1.2.1.</span> <span class="nav-text"> Describe the use of Dockerfile</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-options-such-as-add-copy-volumes-expose-entry-point"><span class="nav-number">1.2.2.</span> <span class="nav-text"> Describe options, such as add, copy, volumes, expose, entry point</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#identify-and-display-the-main-parts-of-a-dockerfile"><span class="nav-number">1.2.3.</span> <span class="nav-text"> Identify and display the main parts of a Dockerfile</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-how-to-create-an-efficient-image-via-a-dockerfile"><span class="nav-number">1.2.4.</span> <span class="nav-text"> Describe and demonstrate how to create an efficient image via a Dockerfile</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-how-to-use-cli-commands-to-manage-images-such-as-list-delete-prune-rmi"><span class="nav-number">1.2.5.</span> <span class="nav-text"> Describe and demonstrate how to use CLI commands to manage images, such as list, delete, prune, rmi</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-how-to-inspect-images-and-report-specific-attributes-using-filter-and-format"><span class="nav-number">1.2.6.</span> <span class="nav-text"> Describe and demonstrate how to inspect images and report specific attributes using filter and format</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-how-to-tag-an-image"><span class="nav-number">1.2.7.</span> <span class="nav-text"> Describe and demonstrate how to tag an image.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-how-to-apply-a-file-to-create-a-docker-image"><span class="nav-number">1.2.8.</span> <span class="nav-text"> Describe and demonstrate how to apply a file to create a Docker image</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-how-to-display-layers-of-a-docker-image"><span class="nav-number">1.2.9.</span> <span class="nav-text"> Describe and demonstrate how to display layers of a Docker image</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-how-to-modify-an-image-to-a-single-layer"><span class="nav-number">1.2.10.</span> <span class="nav-text"> Describe and demonstrate how to modify an image to a single layer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-registry-functions"><span class="nav-number">1.2.11.</span> <span class="nav-text"> Describe and demonstrate registry functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#deploy-a-registry"><span class="nav-number">1.2.12.</span> <span class="nav-text"> Deploy a registry</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#log-into-a-registry"><span class="nav-number">1.2.13.</span> <span class="nav-text"> Log into a registry</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#utilize-search-in-a-registry"><span class="nav-number">1.2.14.</span> <span class="nav-text"> Utilize search in a registry</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#push-an-image-to-a-registry"><span class="nav-number">1.2.15.</span> <span class="nav-text"> Push an image to a registry</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sign-an-image-in-a-registry"><span class="nav-number">1.2.16.</span> <span class="nav-text"> Sign an image in a registry</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pull"><span class="nav-number">1.2.17.</span> <span class="nav-text"> Pull and delete images from a registry</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#domain-3-installation-and-configuration-15-of-exam"><span class="nav-number">1.3.</span> <span class="nav-text"> Domain 3: Installation and Configuration (15% of exam)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-sizing-requirements-for-installation"><span class="nav-number">1.3.1.</span> <span class="nav-text"> Describe sizing requirements for installation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-the-setup-of-repo-selection-of-a-storage-driver-and-installation-of-the-docker-engine-on-multiple-platforms"><span class="nav-number">1.3.2.</span> <span class="nav-text"> Describe and demonstrate the setup of repo, selection of a storage driver, and installation of the Docker engine on multiple platforms</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-configuration-of-logging-drivers-splunk-journald-etc"><span class="nav-number">1.3.3.</span> <span class="nav-text"> Describe and demonstrate configuration of logging drivers (splunk, journald, etc.)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-how-to-set-up-swarm-configure-managers-add-nodes-and-setup-the-backup-schedule"><span class="nav-number">1.3.4.</span> <span class="nav-text"> Describe and demonstrate how to set up swarm, configure managers, add nodes, and setup the backup schedule</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-how-to-create-and-manage-user-and-teams"><span class="nav-number">1.3.5.</span> <span class="nav-text"> Describe and demonstrate how to create and manage user and teams</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-how-to-configure-the-docker-daemon-to-start-on-boot"><span class="nav-number">1.3.6.</span> <span class="nav-text"> Describe and demonstrate how to configure the Docker daemon to start on boot</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-how-to-use-certificate-based-client-server-authentication-to-ensure-a-docker-daemon-has-the-rights-to-access-images-on-a-registry"><span class="nav-number">1.3.7.</span> <span class="nav-text"> Describe and demonstrate how to use certificate-based client-server authentication to ensure a Docker daemon has the rights to access images on a registry</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-the-use-of-namespaces-cgroups-and-certificate-configuration"><span class="nav-number">1.3.8.</span> <span class="nav-text"> Describe the use of namespaces, cgroups, and certificate configuration</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-interpret-errors-to-troubleshoot-installation-issues-without-assistance"><span class="nav-number">1.3.9.</span> <span class="nav-text"> Describe and interpret errors to troubleshoot installation issues without assistance</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-the-steps-to-deploy-the-docker-engine-ucp-and-dtr-on-aws-and-on-premises-in-an-ha-configuration-docker-dtr-ucp-docker-on-aws-and-possibly-on-premises-ha-config"><span class="nav-number">1.3.10.</span> <span class="nav-text"> Describe and demonstrate the steps to deploy the Docker engine, UCP, and DTR on AWS and on-premises in an HA configuration. Docker, DTR, UCP,, Docker on AWS and possibly on premises HA config</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-and-demonstrate-how-to-configure-backups-for-ucp-and-dtr"><span class="nav-number">1.3.11.</span> <span class="nav-text"> Describe and demonstrate how to configure backups for UCP and DTR</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#domain-4-networking-15-of-exam"><span class="nav-number">1.4.</span> <span class="nav-text"> Domain 4: Networking (15% of exam)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#create-a-docker-bridge-network-for-a-developer-to-use-for-their-containers"><span class="nav-number">1.4.1.</span> <span class="nav-text"> Create a Docker bridge network for a developer to use for their containers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#troubleshoot-container-and-engine-logs-to-understand-a-connectivity-issue-between"><span class="nav-number">1.4.2.</span> <span class="nav-text"> [Troubleshoot container and engine logs to understand a connectivity issue between</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#publish-a-port-so-that-an-application-is-accessible-externally"><span class="nav-number">1.4.3.</span> <span class="nav-text"> Publish a port so that an application is accessible externally</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#identify-which-ip-and-port-a-container-is-externally-accessible-on"><span class="nav-number">1.4.4.</span> <span class="nav-text"> Identify which IP and port a container is externally accessible on</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-the-different-types-and-use-cases-for-the-built-in-network-drivers"><span class="nav-number">1.4.5.</span> <span class="nav-text"> Describe the different types and use cases for the built-in network drivers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#understand-the-container-network-model-and-how-it-interfaces-with-the-docker-engine"><span class="nav-number">1.4.6.</span> <span class="nav-text"> [Understand the Container Network Model and how it interfaces with the Docker engine</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#configure-docker-to-use-external-dns"><span class="nav-number">1.4.7.</span> <span class="nav-text"> Configure Docker to use external DNS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#use-docker-to-load-balance-httphttps-traffic-to-an-application-configure-l7-load"><span class="nav-number">1.4.8.</span> <span class="nav-text"> [Use Docker to load balance HTTP&#x2F;HTTPs traffic to an application (Configure L7 load</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#understand-and-describe-the-types-of-traffic-that-flow-between-the-docker-engine"><span class="nav-number">1.4.9.</span> <span class="nav-text"> [Understand and describe the types of traffic that flow between the Docker engine,</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#deploy-a-service-on-a-docker-overlay-network"><span class="nav-number">1.4.10.</span> <span class="nav-text"> Deploy a service on a Docker overlay network</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#domain-5-security-15-of-exam"><span class="nav-number">1.5.</span> <span class="nav-text"> Domain 5: Security (15% of exam)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-the-process-of-signing-an-image"><span class="nav-number">1.5.1.</span> <span class="nav-text"> Describe the process of signing an image</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#demonstrate-that-an-image-passes-a-security-scan"><span class="nav-number">1.5.2.</span> <span class="nav-text"> Demonstrate that an image passes a security scan</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#enable-docker-content-trust"><span class="nav-number">1.5.3.</span> <span class="nav-text"> Enable Docker Content Trust</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#configure-rbac-in-ucp"><span class="nav-number">1.5.4.</span> <span class="nav-text"> Configure RBAC in UCP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#integrate-ucp-with-ldapad"><span class="nav-number">1.5.5.</span> <span class="nav-text"> Integrate UCP with LDAP&#x2F;AD</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#demonstrate-creation-of-ucp-client-bundles"><span class="nav-number">1.5.6.</span> <span class="nav-text"> Demonstrate creation of UCP client bundles</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-default-engine-security"><span class="nav-number">1.5.7.</span> <span class="nav-text"> Describe default engine security</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-swarm-default-security"><span class="nav-number">1.5.8.</span> <span class="nav-text"> Describe swarm default security</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-mtls"><span class="nav-number">1.5.9.</span> <span class="nav-text"> Describe MTLS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#identity-roles"><span class="nav-number">1.5.10.</span> <span class="nav-text"> Identity roles</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-the-difference-between-ucp-workers-and-managers"><span class="nav-number">1.5.11.</span> <span class="nav-text"> Describe the difference between UCP workers and managers</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#domain-6-storage-and-volumes-10-of-exam"><span class="nav-number">1.6.</span> <span class="nav-text"> Domain 6: Storage and Volumes (10% of exam)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#state-which-graph-driver-should-be-used-on-which-os"><span class="nav-number">1.6.1.</span> <span class="nav-text"> State which graph driver should be used on which OS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#demonstrate-how-to-configure-devicemapper"><span class="nav-number">1.6.2.</span> <span class="nav-text"> Demonstrate how to configure devicemapper</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#compare-object-storage-to-block-storage-and-explain-which-one-is-preferable-when"><span class="nav-number">1.6.3.</span> <span class="nav-text"> [Compare object storage to block storage, and explain which one is preferable when</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#summarize-how-an-application-is-composed-of-layers-and-where-those-layers-reside-on"><span class="nav-number">1.6.4.</span> <span class="nav-text"> [Summarize how an application is composed of layers and where those layers reside on</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#describe-how-volumes-are-used-with-docker-for-persistent-storage"><span class="nav-number">1.6.5.</span> <span class="nav-text"> Describe how volumes are used with Docker for persistent storage</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#demonstrate-how-storage-can-be-used-across-cluster-nodes"><span class="nav-number">1.6.6.</span> <span class="nav-text"> Demonstrate how storage can be used across cluster nodes</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="You Xie"
      src="https://avatars.githubusercontent.com/u/38464985?v=4">
  <p class="site-author-name" itemprop="name">You Xie</p>
  <div class="site-description" itemprop="description">Never too old to learn!</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">21</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/xyshell" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xyshell" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:xyshell0@gmail.com" title="E-Mail → mailto:xyshell0@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://xyshell.github.io/2020/06/11/DCA-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars.githubusercontent.com/u/38464985?v=4">
      <meta itemprop="name" content="You Xie">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="You Xie's Blog">
      <meta itemprop="description" content="Never too old to learn!">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="DCA Note | You Xie's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          DCA Note
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-06-11 16:38:24" itemprop="dateCreated datePublished" datetime="2020-06-11T16:38:24-05:00">2020-06-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-27 00:59:01" itemprop="dateModified" datetime="2023-09-27T00:59:01-05:00">2023-09-27</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="docker-certified-associate-exam-preparation-guide-v13"><a class="markdownIt-Anchor" href="#docker-certified-associate-exam-preparation-guide-v13"></a> Docker Certified Associate Exam Preparation Guide (v1.3)</h1>
<h2 id="domain-1-orchestration-25-of-exam"><a class="markdownIt-Anchor" href="#domain-1-orchestration-25-of-exam"></a> Domain 1: Orchestration (25% of exam)</h2>
<h3 id="complete-the-setup-of-a-swarm-mode-cluster-with-managers-and-worker-nodes"><a class="markdownIt-Anchor" href="#complete-the-setup-of-a-swarm-mode-cluster-with-managers-and-worker-nodes"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/swarm/swarm-tutorial/create-swarm/">Complete the setup of a swarm mode cluster, with managers and worker nodes</a></h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker swarm init</span><br><span class="line">$ docker swarm join-token manager / $ docker swarm join-token worker</span><br><span class="line">$ docker swarm <span class="built_in">join</span> --token &lt;token&gt; &lt;ip&gt;:&lt;port&gt;</span><br></pre></td></tr></table></figure>
<h3 id="describe-and-demonstrate-how-to-extend-the-instructions-to-run-individual-containers-into-running-services-under-swarm"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-how-to-extend-the-instructions-to-run-individual-containers-into-running-services-under-swarm"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/swarm/swarm-tutorial/deploy-service/">Describe and demonstrate how to extend the instructions to run individual containers into running services under swarm</a></h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker service create --replicas 1 --name &lt;service&gt; &lt;image&gt; &lt;cmd&gt;</span><br><span class="line">$ docker service <span class="built_in">ls</span></span><br></pre></td></tr></table></figure>
<h3 id="describe-the-importance-of-quorum-in-a-swarm-cluster"><a class="markdownIt-Anchor" href="#describe-the-importance-of-quorum-in-a-swarm-cluster"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/swarm/raft/">Describe the importance of quorum in a swarm cluster.</a></h3>
<ul>
<li><a target="_blank" rel="noopener" href="http://thesecretlivesofdata.com/raft/">Raft Consensus Algorithm</a> to make sure all the manager nodes in charge of managing and scheduling tasks in the cluster, are storing the same consistent state.</li>
<li>Having the same consistent state across the cluster means that in case of a failure, any Manager node can pick up the tasks and restore the services to a stable state.</li>
<li>Raft tolerates up to (N-1)/2 failures and requires a majority or quorum of (N/2)+1 members to agree on values proposed to the cluster.</li>
</ul>
<h3 id="describe-the-difference-between-running-a-container-and-running-a-service"><a class="markdownIt-Anchor" href="#describe-the-difference-between-running-a-container-and-running-a-service"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/swarm/how-swarm-mode-works/services/#services-tasks-and-containers">Describe the difference between running a container and running a service.</a></h3>
<p>Service -&gt; tasks - containers</p>
<h3 id="interpret-the-output-of-docker-inspect-commands"><a class="markdownIt-Anchor" href="#interpret-the-output-of-docker-inspect-commands"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/swarm/swarm-tutorial/inspect-service/">Interpret the output of “docker inspect” commands</a></h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker service|container|network|... inpsect --pretty &lt;name&gt;</span><br></pre></td></tr></table></figure>
<h3 id="convert-an-application-deployment-into-a-stack-file-using-a-yaml-compose-file-with-docker-stack-deploy"><a class="markdownIt-Anchor" href="#convert-an-application-deployment-into-a-stack-file-using-a-yaml-compose-file-with-docker-stack-deploy"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/swarm/stack-deploy/">Convert an application deployment into a stack file using a YAML compose file with “docker stack deploy”</a></h3>
<p>stack file is a YAML defining services, networks and volumes.</p>
<h3 id="manipulate-a-running-stack-of-services"><a class="markdownIt-Anchor" href="#manipulate-a-running-stack-of-services"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/stack_services/#related-commands">Manipulate a running stack of services</a></h3>
<p><code>docker service scale</code>; <code>docker service update</code>; update config file, re-deploy by: <code>docker stack deploy -c &lt;stackfile&gt; &lt;stack&gt;</code></p>
<h3 id="describe-and-demonstrate-orchestration-activities"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-orchestration-activities"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/get-started/orchestration/">Describe and demonstrate orchestration activities</a></h3>
<p>Tools to manage, scale, and maintain containerized applications are called orchestrators (e.x. Kubernetes and Docker Swarm)</p>
<h3 id="increase-number-of-replicas"><a class="markdownIt-Anchor" href="#increase-number-of-replicas"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/service_scale/">Increase number of replicas</a></h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker service scale &lt;service&gt;=20</span><br></pre></td></tr></table></figure>
<h3 id="add-networks-publish-ports"><a class="markdownIt-Anchor" href="#add-networks-publish-ports"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/network/">Add networks, publish ports</a></h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker network create -d &lt;driver&gt; &lt;network&gt;</span><br><span class="line">$ docker container create --network &lt;network&gt; -p 8080:8080 &lt;container&gt;</span><br></pre></td></tr></table></figure>
<h3 id="mount-volumes"><a class="markdownIt-Anchor" href="#mount-volumes"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/storage/volumes/">Mount volumes</a></h3>
<p>to attach volume to a container, either by --mount or -v:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d --name &lt;container&gt; --mount <span class="built_in">source</span>=&lt;volume&gt;,target=/vol &lt;image&gt;</span><br><span class="line">$ docker run -d --name &lt;container&gt; -v &lt;volume&gt;:/vol &lt;image&gt;</span><br></pre></td></tr></table></figure>
<h3 id="describe-and-demonstrate-how-to-run-replicated-and-global-services"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-how-to-run-replicated-and-global-services"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/swarm/how-swarm-mode-works/services/#replicated-and-global-services">Describe and demonstrate how to run replicated and global services</a></h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker service create --replicas 5 &lt;service&gt; <span class="comment"># default replicated mode</span></span><br><span class="line">$ docker service create --mode global &lt;service&gt; <span class="comment"># global mode</span></span><br></pre></td></tr></table></figure>
<h3 id="apply-node-labels-to-demonstrate-placement-of-tasks"><a class="markdownIt-Anchor" href="#apply-node-labels-to-demonstrate-placement-of-tasks"></a> <a target="_blank" rel="noopener" href="https://success.docker.com/article/using-contraints-and-labels-to-control-the-placement-of-containers">Apply node labels to demonstrate placement of tasks</a></h3>
<h3 id="describe-and-demonstrate-how-to-use-templates-with-docker-service-create"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-how-to-use-templates-with-docker-service-create"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/service_create/#create-services-using-templates">Describe and demonstrate how to use templates with “docker service create”</a></h3>
<p>only <code>--hostname</code>,<code>--mount</code>,<code>--env</code> support templates, e.x.:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ docker service create \</span><br><span class="line">    --name hosttempl \</span><br><span class="line">    --hostname=<span class="string">&quot;&#123;&#123;.Node.Hostname&#125;&#125;-&#123;&#123;.Node.ID&#125;&#125;-&#123;&#123;.Service.Name&#125;&#125;&quot;</span> \ <span class="comment"># default container ID</span></span><br><span class="line">    busybox top</span><br></pre></td></tr></table></figure>
<h3 id="identify-the-steps-needed-to-troubleshoot-a-service-not-deploying"><a class="markdownIt-Anchor" href="#identify-the-steps-needed-to-troubleshoot-a-service-not-deploying"></a> <a target="_blank" rel="noopener" href="https://success.docker.com/article/swarm-troubleshooting-methodology">Identify the steps needed to troubleshoot a service not deploying</a></h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ docker service <span class="built_in">ls</span></span><br><span class="line">$ docker service ps &lt;service&gt;</span><br><span class="line">$ docker service inspect &lt;service&gt;</span><br><span class="line">$ docker inspect &lt;task&gt;</span><br><span class="line">$ docker inspect &lt;container&gt;</span><br><span class="line">$ docker logs &lt;container&gt;</span><br></pre></td></tr></table></figure>
<h3 id="describe-how-a-dockerized-application-communicates-with-legacy-systems"><a class="markdownIt-Anchor" href="#describe-how-a-dockerized-application-communicates-with-legacy-systems"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/config/containers/container-networking/">Describe how a Dockerized application communicates with legacy systems</a></h3>
<p>use a bridge, an overlay, a macvlan network, or a custom network plugin.</p>
<h3 id="describe-how-to-deploy-containerized-workloads-as-kubernetes-pods-and-deployments"><a class="markdownIt-Anchor" href="#describe-how-to-deploy-containerized-workloads-as-kubernetes-pods-and-deployments"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/get-started/kube-deploy/">Describe how to deploy containerized workloads as Kubernetes pods and deployments</a></h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl apply -f bb.yaml</span><br><span class="line">$ kubectl get pods</span><br><span class="line">$ kubectl get deploy</span><br><span class="line">$ kubectl edit deploy/mysite <span class="comment"># edit existing objects, automatic update</span></span><br><span class="line">$ kubectl scale --replicas=2 deploy/mysite <span class="comment"># rescale</span></span><br><span class="line">$ kubectl delete -f bb.yaml / kubectl delete deploy mysite</span><br></pre></td></tr></table></figure>
<h3 id="describe-how-to-provide-configuration-to-kubernetes-pods-using-configmaps-and-secrets"><a class="markdownIt-Anchor" href="#describe-how-to-provide-configuration-to-kubernetes-pods-using-configmaps-and-secrets"></a> <a target="_blank" rel="noopener" href="https://opensource.com/article/19/6/introduction-kubernetes-secrets-and-configmaps">Describe how to provide configuration to Kubernetes pods using configMaps and secrets</a></h3>
<ol>
<li>Secret:</li>
</ol>
<p>create the YAML file for the Secret, save as mysql-secret.yaml:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Secret</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">mariadb-root-password</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">Opaque</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="attr">password:</span> <span class="string">S3ViZXJuZXRlc1JvY2tzIQ==</span></span><br></pre></td></tr></table></figure>
<p>create the Secret in Kubernetes:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl apply -f mysql-secret.yaml</span><br></pre></td></tr></table></figure>
<p>view the newly created Secret:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl describe secret mariadb-root-password</span><br></pre></td></tr></table></figure>
<p>view and edit the Secret:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl edit secret &lt;secretname&gt;</span><br></pre></td></tr></table></figure>
<p>could also create the secret by:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create secret generic mariadb-user-creds \</span><br><span class="line">      --from-literal=MYSQL_USER=kubeuser\</span><br><span class="line">      --from-literal=MYSQL_PASSWORD=kube-still-rocks</span><br></pre></td></tr></table></figure>
<p>validate secrets were created and stored correctly:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Get the username</span></span><br><span class="line">$ kubectl get secret mariadb-user-creds -o jsonpath=<span class="string">&#x27;&#123;.data.MYSQL_USER&#125;&#x27;</span> | <span class="built_in">base64</span> --decode -</span><br><span class="line">kubeuser</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get the password</span></span><br><span class="line">$ kubectl get secret mariadb-user-creds -o jsonpath=<span class="string">&#x27;&#123;.data.MYSQL_PASSWORD&#125;&#x27;</span> | <span class="built_in">base64</span> --decode -</span><br><span class="line">kube-still-rocks</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>ConfigMap</li>
</ol>
<p>create a file named max_allowed_packet.cnf:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">max_allowed_packet = 64M</span><br></pre></td></tr></table></figure>
<p>create configmap by:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create configmap mariadb-config --from-file=max_allowed_packet.cnf <span class="comment"># could add multiple --from-file=&lt;filename&gt;</span></span><br><span class="line">$ kubectl create configmap mariadb-config --from-file=max-packet=max_allowed_packet.cnf <span class="comment"># set max-packet as key rather than the file name</span></span><br><span class="line">configmap/mariadb-config created</span><br></pre></td></tr></table></figure>
<p>Firstvalidate that the ConfigMap was created:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get configmap mariadb-config</span><br></pre></td></tr></table></figure>
<p>viewed with the kubectl describe command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl describe cm mariadb-config</span><br></pre></td></tr></table></figure>
<p>edit configmap mariadb-config’s value:(in development)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl edit configmap mariadb-config</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>Using Secrets and ConfigMaps</li>
</ol>
<p>Create a file named mariadb-deployment.yaml:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">mariadb</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">mariadb-deployment</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">mariadb</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">mariadb</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">mariadb</span></span><br><span class="line">          <span class="attr">image:</span> <span class="string">docker.io/mariadb:10.4</span></span><br><span class="line">        <span class="comment">#   env:</span></span><br><span class="line">        <span class="comment">#     - name: MYSQL_ROOT_PASSWORD</span></span><br><span class="line">        <span class="comment">#     valueFrom:</span></span><br><span class="line">        <span class="comment">#         secretKeyRef:</span></span><br><span class="line">        <span class="comment">#             name: mariadb-root-password</span></span><br><span class="line">        <span class="comment">#             key: password</span></span><br><span class="line">        <span class="comment">#   envFrom:</span></span><br><span class="line">        <span class="comment">#   - secretRef:</span></span><br><span class="line">        <span class="comment">#     name: mariadb-user-creds</span></span><br><span class="line">          <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">3306</span></span><br><span class="line">              <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">          <span class="attr">volumeMounts:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">mountPath:</span> <span class="string">/var/lib/mysql</span></span><br><span class="line">              <span class="attr">name:</span> <span class="string">mariadb-volume-1</span></span><br><span class="line">            <span class="comment"># - mountPath: /etc/mysql/conf.d</span></span><br><span class="line">            <span class="comment">#   name: mariadb-config-volume</span></span><br><span class="line">      <span class="attr">volumes:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">emptyDir:</span> &#123;&#125;</span><br><span class="line">          <span class="attr">name:</span> <span class="string">mariadb-volume-1</span></span><br><span class="line">        <span class="comment"># - configMap:</span></span><br><span class="line">        <span class="comment">#   name: mariadb-config</span></span><br><span class="line">        <span class="comment">#   items:</span></span><br><span class="line">        <span class="comment">#     - key: max_allowed_packet.cnf</span></span><br><span class="line">        <span class="comment">#       path: max_allowed_packet.cnf</span></span><br><span class="line">        <span class="comment">#   name: mariadb-config-volume</span></span><br></pre></td></tr></table></figure>
<p>add the Secrets to the Deployment as environment variables, same for ConfigMaps by using configMapRef instead of secretKeyRef:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">env:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">MYSQL_ROOT_PASSWORD</span></span><br><span class="line">    <span class="attr">valueFrom:</span></span><br><span class="line">      <span class="attr">secretKeyRef:</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">mariadb-root-password</span></span><br><span class="line">        <span class="attr">key:</span> <span class="string">password</span></span><br></pre></td></tr></table></figure>
<p>or using envFrom:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">envFrom:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">secretRef:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">mariadb-user-creds</span></span><br></pre></td></tr></table></figure>
<p>create a new MariaDB instance from the YAML file:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">kubectl</span> <span class="string">create</span> <span class="string">-f</span> <span class="string">mariadb-deployment.yaml</span></span><br><span class="line"><span class="string">deployment.apps/mariadb-deployment</span> <span class="string">created</span></span><br></pre></td></tr></table></figure>
<p>view the running MariaDB pod:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get pods</span><br></pre></td></tr></table></figure>
<p>kubectl exec to the Pod, validate Secrets and ConfigMaps are in use:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl <span class="built_in">exec</span> -it mariadb-deployment-5465c6655c-7jfqm <span class="built_in">env</span> |grep MYSQL</span><br><span class="line">MYSQL_PASSWORD=kube-still-rocks</span><br><span class="line">MYSQL_USER=kubeuser</span><br><span class="line">MYSQL_ROOT_PASSWORD=KubernetesRocks!</span><br></pre></td></tr></table></figure>
<p>check max_allowed_packet.cnf file was created in /etc/mysql/conf.d:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl <span class="built_in">exec</span> -it mariadb-deployment-5465c6655c-7jfqm <span class="built_in">ls</span> /etc/mysql/conf.d</span><br><span class="line">max_allowed_packet.cnf</span><br><span class="line"></span><br><span class="line">$ kubectl <span class="built_in">exec</span> -it mariadb-deployment-5465c6655c-7jfqm <span class="built_in">cat</span> /etc/mysql/conf.d/max_allowed_packet.cnf</span><br><span class="line">[mysqld]</span><br><span class="line">max_allowed_packet = 32M</span><br></pre></td></tr></table></figure>
<h2 id="domain-2-image-creation-management-and-registry-20-of-exam"><a class="markdownIt-Anchor" href="#domain-2-image-creation-management-and-registry-20-of-exam"></a> Domain 2: Image Creation, Management, and Registry (20% of exam)</h2>
<h3 id="describe-the-use-of-dockerfile"><a class="markdownIt-Anchor" href="#describe-the-use-of-dockerfile"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/builder/">Describe the use of Dockerfile</a></h3>
<h3 id="describe-options-such-as-add-copy-volumes-expose-entry-point"><a class="markdownIt-Anchor" href="#describe-options-such-as-add-copy-volumes-expose-entry-point"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/builder/#from">Describe options, such as add, copy, volumes, expose, entry point</a></h3>
<h3 id="identify-and-display-the-main-parts-of-a-dockerfile"><a class="markdownIt-Anchor" href="#identify-and-display-the-main-parts-of-a-dockerfile"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/builder/#dockerfile-examples">Identify and display the main parts of a Dockerfile</a></h3>
<h3 id="describe-and-demonstrate-how-to-create-an-efficient-image-via-a-dockerfile"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-how-to-create-an-efficient-image-via-a-dockerfile"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/">Describe and demonstrate how to create an efficient image via a Dockerfile</a></h3>
<h3 id="describe-and-demonstrate-how-to-use-cli-commands-to-manage-images-such-as-list-delete-prune-rmi"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-how-to-use-cli-commands-to-manage-images-such-as-list-delete-prune-rmi"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/image/#usage">Describe and demonstrate how to use CLI commands to manage images, such as list, delete, prune, rmi</a></h3>
<h3 id="describe-and-demonstrate-how-to-inspect-images-and-report-specific-attributes-using-filter-and-format"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-how-to-inspect-images-and-report-specific-attributes-using-filter-and-format"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/images/#filtering">Describe and demonstrate how to inspect images and report specific attributes using filter and format</a></h3>
<p>filter:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ docker images --filter <span class="string">&quot;dangling=true&quot;</span></span><br><span class="line">$ docker images --filter <span class="string">&quot;label=com.example.version&quot;</span></span><br><span class="line">$ docker images --filter <span class="string">&quot;label=com.example.version=1.0&quot;</span></span><br><span class="line">$ docker images --filter <span class="string">&quot;before=image1&quot;</span></span><br><span class="line">$ docker images --filter <span class="string">&quot;since=image3&quot;</span></span><br><span class="line">$ docker images --filter=reference=<span class="string">&#x27;busy*:*libc&#x27;</span></span><br><span class="line">$ docker images --filter=reference=<span class="string">&#x27;busy*:uclibc&#x27;</span> --filter=reference=<span class="string">&#x27;busy*:glibc&#x27;</span></span><br></pre></td></tr></table></figure>
<p>format:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker images --format <span class="string">&quot;&#123;&#123;.ID&#125;&#125;: &#123;&#123;.Repository&#125;&#125;&quot;</span></span><br><span class="line">$ docker images --format <span class="string">&quot;table &#123;&#123;.ID&#125;&#125;\t&#123;&#123;.Repository&#125;&#125;\t&#123;&#123;.Tag&#125;&#125;&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="describe-and-demonstrate-how-to-tag-an-image"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-how-to-tag-an-image"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/tag/">Describe and demonstrate how to tag an image.</a></h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker tag &lt;image-name/image-id&gt; fedora/httpd:version1.0 </span><br></pre></td></tr></table></figure>
<h3 id="describe-and-demonstrate-how-to-apply-a-file-to-create-a-docker-image"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-how-to-apply-a-file-to-create-a-docker-image"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/image_load/">Describe and demonstrate how to apply a file to create a Docker image</a></h3>
<h3 id="describe-and-demonstrate-how-to-display-layers-of-a-docker-image"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-how-to-display-layers-of-a-docker-image"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/image_inspect/">Describe and demonstrate how to display layers of a Docker image</a></h3>
<h3 id="describe-and-demonstrate-how-to-modify-an-image-to-a-single-layer"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-how-to-modify-an-image-to-a-single-layer"></a> <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/39695031/how-make-docker-layer-to-single-layer">Describe and demonstrate how to modify an image to a single layer</a></h3>
<h3 id="describe-and-demonstrate-registry-functions"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-registry-functions"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/registry/">Describe and demonstrate registry functions</a></h3>
<h3 id="deploy-a-registry"><a class="markdownIt-Anchor" href="#deploy-a-registry"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/registry/deploying/">Deploy a registry</a></h3>
<p>deploy by:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d \ </span><br><span class="line">  -e REGISTRY_HTTP_ADDR=0.0.0.0:5001 \ </span><br><span class="line">  -p 5001:5001 \ </span><br><span class="line">  --restart=always \ </span><br><span class="line">  --name registry \ </span><br><span class="line">  -v /mnt/registry:/var/lib/registry \ </span><br><span class="line">  registry:2</span><br></pre></td></tr></table></figure>
<p>stop and remove by:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker container stop registry &amp;&amp; docker container <span class="built_in">rm</span> -v registry</span><br></pre></td></tr></table></figure>
<h3 id="log-into-a-registry"><a class="markdownIt-Anchor" href="#log-into-a-registry"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/login/">Log into a registry</a></h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker login localhost:8080</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> ~/my_password.txt | docker login --username foo --password-stdin</span><br></pre></td></tr></table></figure>
<h3 id="utilize-search-in-a-registry"><a class="markdownIt-Anchor" href="#utilize-search-in-a-registry"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/search/">Utilize search in a registry</a></h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ docker search busybox</span><br><span class="line">$ docker search --filter is-official=<span class="literal">true</span> --filter stars=3 busybox</span><br><span class="line">$ docker search --format <span class="string">&quot;&#123;&#123;.Name&#125;&#125;: &#123;&#123;.StarCount&#125;&#125;&quot;</span> nginx</span><br><span class="line">$ docker search --format <span class="string">&quot;table &#123;&#123;.Name&#125;&#125;\t&#123;&#123;.IsAutomated&#125;&#125;\t&#123;&#123;.IsOfficial&#125;&#125;&quot;</span> nginx</span><br></pre></td></tr></table></figure>
<h3 id="push-an-image-to-a-registry"><a class="markdownIt-Anchor" href="#push-an-image-to-a-registry"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/push/">Push an image to a registry</a></h3>
<p>commit a container to image:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker commit c16378f943fe rhel-httpd</span><br></pre></td></tr></table></figure>
<p>tag and push:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker tag rhel-httpd registry-host:5000/myadmin/rhel-httpd</span><br><span class="line">$ docker push registry-host:5000/myadmin/rhel-httpd</span><br></pre></td></tr></table></figure>
<h3 id="sign-an-image-in-a-registry"><a class="markdownIt-Anchor" href="#sign-an-image-in-a-registry"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/trust_sign/">Sign an image in a registry</a></h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker trust sign example/trust-demo:v2</span><br><span class="line">$ docker trust inspect --pretty example/trust-demo</span><br></pre></td></tr></table></figure>
<h3 id="pull"><a class="markdownIt-Anchor" href="#pull"></a> <a href="ttps://docs.docker.com/engine/reference/commandline/pull/">Pull</a> and <a target="_blank" rel="noopener" href="https://docs.docker.com/registry/spec/api/#deleting-an-image">delete</a> images from a registry</h3>
<p>An image may be deleted from the registry via its “name” and “reference”:</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE /v2/&lt;name&gt;/manifests/&lt;reference&gt;</span><br></pre></td></tr></table></figure>
<h2 id="domain-3-installation-and-configuration-15-of-exam"><a class="markdownIt-Anchor" href="#domain-3-installation-and-configuration-15-of-exam"></a> Domain 3: Installation and Configuration (15% of exam)</h2>
<h3 id="describe-sizing-requirements-for-installation"><a class="markdownIt-Anchor" href="#describe-sizing-requirements-for-installation"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/datacenter/ucp/2.2/guides/admin/install/system-requirements/#hardware-and-software-requirements">Describe sizing requirements for installation</a></h3>
<p>the following minimum requirements for Docker UCP 2.2.4 on Linux:<br />
• UCP Manager nodes running DTR: 8GB of RAM with 3GB of disk space<br />
• UCP Worker nodes: 4GB of RAM with 3GB of free disk space<br />
Recommended requirements are:<br />
• UCP Manager nodes running DTR: 8GB RAM, 4 vCPUs, and 100GB disk space<br />
• UCP Worker nodes: 4GB RAM 25-100GB of free disk space</p>
<h3 id="describe-and-demonstrate-the-setup-of-repo-selection-of-a-storage-driver-and-installation-of-the-docker-engine-on-multiple-platforms"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-the-setup-of-repo-selection-of-a-storage-driver-and-installation-of-the-docker-engine-on-multiple-platforms"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/install/">Describe and demonstrate the setup of repo, selection of a storage driver, and installation of the Docker engine on multiple platforms</a></h3>
<h3 id="describe-and-demonstrate-configuration-of-logging-drivers-splunk-journald-etc"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-configuration-of-logging-drivers-splunk-journald-etc"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/config/containers/logging/configure/">Describe and demonstrate configuration of logging drivers (splunk, journald, etc.)</a></h3>
<h3 id="describe-and-demonstrate-how-to-set-up-swarm-configure-managers-add-nodes-and-setup-the-backup-schedule"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-how-to-set-up-swarm-configure-managers-add-nodes-and-setup-the-backup-schedule"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/swarm/admin_guide/">Describe and demonstrate how to set up swarm, configure managers, add nodes, and setup the backup schedule</a></h3>
<p>A Swarm backup is a copy of all the files in directory <code>/var/lib/docker/swarm</code>:</p>
<ol>
<li>Stop Docker on the Swarm manager node you are performing the backup from(not a good idea to perform the backup on the leader manager). This will stop all UCP containers on the node. If UCP is configured for HA, the other managers will make sure the control plane remains available.</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ service docker stop</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Backup the Swarm config, e.x.:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ tar -czvf swarm.bkp /var/lib/docker/swarm/</span><br><span class="line">tar: Removing leading `/<span class="string">&#x27; from member names</span></span><br><span class="line"><span class="string">/var/lib/docker/swarm/</span></span><br><span class="line"><span class="string">/var/lib/docker/swarm/docker-state.json</span></span><br><span class="line"><span class="string">/var/lib/docker/swarm/state.json</span></span><br><span class="line"><span class="string">&lt;Snip&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>Verify that the backup file exists. rotate, and store the backup file off-site according to your corporate backup policies.</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> -l</span><br><span class="line">-rw-r--r-- 1 root root 450727 Jan 29 14:06 swarm.bkp</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>Restart Docker.</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ service docker restart</span><br></pre></td></tr></table></figure>
<p>recover Swarm from a backup:</p>
<ol>
<li>stop docker:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ service docker stop</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Delete any existing Swarm configuration:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">rm</span> -r /var/lib/docker/swarm</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>Restore the Swarm configuration from backup:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tar -zxvf swarm.bkp -C /</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>Initialize a new Swarm cluster:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker swarm init --force-new-cluster</span><br><span class="line">Swarm initialized: current node (jhsg...3l9h) is now a manager.</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>check by:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker network <span class="built_in">ls</span></span><br><span class="line">$ docker service <span class="built_in">ls</span></span><br></pre></td></tr></table></figure>
<ol start="6">
<li>Add new manager and worker nodes to the Swarm, and take a fresh backup.</li>
</ol>
<h3 id="describe-and-demonstrate-how-to-create-and-manage-user-and-teams"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-how-to-create-and-manage-user-and-teams"></a> <a target="_blank" rel="noopener" href="https://success.docker.com/article/rbac-example-overview">Describe and demonstrate how to create and manage user and teams</a></h3>
<p>RBAC via grant:</p>
<ul>
<li>Subject</li>
<li>Role</li>
<li>Collection</li>
</ul>
<h3 id="describe-and-demonstrate-how-to-configure-the-docker-daemon-to-start-on-boot"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-how-to-configure-the-docker-daemon-to-start-on-boot"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/install/linux-postinstall/#configure-docker-to-start-on-boot">Describe and demonstrate how to configure the Docker daemon to start on boot</a></h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> docker</span><br></pre></td></tr></table></figure>
<p>To disable this behavior, use disable instead:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> systemctl <span class="built_in">disable</span> docker</span><br></pre></td></tr></table></figure>
<h3 id="describe-and-demonstrate-how-to-use-certificate-based-client-server-authentication-to-ensure-a-docker-daemon-has-the-rights-to-access-images-on-a-registry"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-how-to-use-certificate-based-client-server-authentication-to-ensure-a-docker-daemon-has-the-rights-to-access-images-on-a-registry"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/security/certificates/">Describe and demonstrate how to use certificate-based client-server authentication to ensure a Docker daemon has the rights to access images on a registry</a></h3>
<h3 id="describe-the-use-of-namespaces-cgroups-and-certificate-configuration"><a class="markdownIt-Anchor" href="#describe-the-use-of-namespaces-cgroups-and-certificate-configuration"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/get-started/overview/#the-underlying-technology">Describe the use of namespaces, cgroups, and certificate configuration</a></h3>
<h3 id="describe-and-interpret-errors-to-troubleshoot-installation-issues-without-assistance"><a class="markdownIt-Anchor" href="#describe-and-interpret-errors-to-troubleshoot-installation-issues-without-assistance"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/config/daemon/#troubleshoot-the-daemon">Describe and interpret errors to troubleshoot installation issues without assistance</a></h3>
<h3 id="describe-and-demonstrate-the-steps-to-deploy-the-docker-engine-ucp-and-dtr-on-aws-and-on-premises-in-an-ha-configuration-docker-dtr-ucp-docker-on-aws-and-possibly-on-premises-ha-config"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-the-steps-to-deploy-the-docker-engine-ucp-and-dtr-on-aws-and-on-premises-in-an-ha-configuration-docker-dtr-ucp-docker-on-aws-and-possibly-on-premises-ha-config"></a> Describe and demonstrate the steps to deploy the Docker engine, UCP, and DTR on AWS and on-premises in an HA configuration. <a target="_blank" rel="noopener" href="https://docs.docker.com/install/linux/docker-ce/ubuntu/">Docker,</a> <a target="_blank" rel="noopener" href="https://docs.docker.com/datacenter/dtr/2.3/guides/admin/install/">DTR,</a> <a target="_blank" rel="noopener" href="https://docs.docker.com/ee/ucp/">UCP,</a>, <a target="_blank" rel="noopener" href="https://docs.docker.com/docker-for-aws/">Docker on AWS</a> and possibly <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/swarm/admin_guide/#add-manager-nodes-for-fault-tolerance">on premises HA config</a></h3>
<ol>
<li>DTR:</li>
</ol>
<p>If possible, you should run your DTR instances on dedicated nodes. You definitely<br />
shouldn’t run user workloads on your production DTR nodes.</p>
<p>As with UCP, you should run an odd number of DTR instances. 3 or 5 is best for fault<br />
tolerance. A recommended configuration for a production environment might be:</p>
<ul>
<li>3 dedicated UCP managers</li>
<li>3 dedicated DTR instances</li>
<li>However many worker nodes your application requirements demand</li>
</ul>
<p>Install DTR:</p>
<ol>
<li>Log on to the UCP web UI and click Admin &gt; Admin Settings &gt; Docker<br />
Trusted Registry.</li>
<li>Fill out the DTR configuration form.</li>
</ol>
<ul>
<li>DTR EXTERNAL URL: Set this to the URL of your external load balancer.</li>
<li>UCP NODE: Select the name of the node you wish to install DTR on.</li>
<li>Disable TLS Verification For UCP: Check this box if you’re using<br />
self-signed certificates.</li>
</ul>
<ol start="3">
<li>Copy the long command at the bottom of the form.</li>
<li>Paste the command into any UCP manager node.<br />
The command includes the --ucp-node flag telling UCP which node to<br />
perform the install on.<br />
The following is an example DTR install command that matches the configuration<br />
in Figure 16.10. It assumes that you already have a load balancer<br />
configured at <a target="_blank" rel="noopener" href="http://dtr.mydns.com">dtr.mydns.com</a></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -it --<span class="built_in">rm</span> docker/dtr install \</span><br><span class="line">--dtr-external-url dtr.mydns.com \</span><br><span class="line">--ucp-node dtr1 \</span><br><span class="line">--ucp-url https://34.252.195.122 \</span><br><span class="line">--ucp-username admin --ucp-insecure-tls</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>Once the installation is complete, point your web browser to your load<br />
balancer. You will be automatically logged in to DTR.</li>
</ol>
<p>Configure DTR for high availability:</p>
<ol>
<li>Log on to the DTR console and navigate to Settings.</li>
<li>Select the Storage tab and configure the shared storage backend.</li>
</ol>
<p>DTR is now configured with a shared storage backend and ready to have additional<br />
replicas.</p>
<ol>
<li>Run the following command from a manager node in the UCP cluster.</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -it --<span class="built_in">rm</span> \</span><br><span class="line">docker/dtr:2.4.1 <span class="built_in">join</span> \</span><br><span class="line">--ucp-node dtr2 \</span><br><span class="line">--existing-replica-id 47f20fb864cf \</span><br><span class="line">--ucp-insecure-tls</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Enter the UCP URL and port, as well as admin credentials when prompted.</li>
</ol>
<h3 id="describe-and-demonstrate-how-to-configure-backups-for-ucp-and-dtr"><a class="markdownIt-Anchor" href="#describe-and-demonstrate-how-to-configure-backups-for-ucp-and-dtr"></a> Describe and demonstrate how to configure backups for <a target="_blank" rel="noopener" href="https://success.docker.com/article/backup-restore-best-practices">UCP and DTR</a></h3>
<p>You can run the backup from any UCP manager node in the cluster, and you only<br />
need to run the operation on one node (UCP replicates its configuration to all<br />
manager nodes, so backing up from multiple nodes is not required).</p>
<p>Backing up UCP will stop all UCP containers on the manager that you’re executing<br />
the operation on. With this in mind, you should be running a highly available UCP<br />
cluster, and you should run the operation at a quiet time for the business.</p>
<p>backup UCP:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ docker container run --log-driver none --<span class="built_in">rm</span> -i --name ucp \</span><br><span class="line">-v /var/run/docker.sock:/var/run/docker.sock \</span><br><span class="line">docker/ucp:2.2.5 backup --interactive \</span><br><span class="line">--passphrase <span class="string">&quot;Password123&quot;</span> &gt; ucp.bkp</span><br></pre></td></tr></table></figure>
<p>recover UCP:</p>
<ol>
<li>Remove any existing, and potentially corrupted, UCP installations:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker container run --<span class="built_in">rm</span> -it --name ucp \</span><br><span class="line">-v /var/run/docker.sock:/var/run/docker.sock \</span><br><span class="line">docker/ucp:2.2.5 uninstall-ucp --interactive</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Restore UCP from the backup:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker container run --<span class="built_in">rm</span> -i --name ucp \</span><br><span class="line">-v /var/run/docker.sock:/var/run/docker.sock \</span><br><span class="line">docker/ucp:2.2.5 restore --passphrase <span class="string">&quot;Password123&quot;</span> &lt; ucp.bkp</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>Log on to the UCP web UI and ensure that the user created earlier is still present<br />
(or any other UCP objects that previously existed in your environment).</li>
</ol>
<p>Backup DTR:<br />
As with UCP, DTR has a native backup command that is part of the Docker image<br />
that was used to install the DTR. This native backup command will backup the DTR<br />
configuration that is stored in a set of named volumes, and includes:</p>
<ul>
<li>DTR configuration</li>
<li>Repository metadata</li>
<li>Notary data</li>
<li>Certificates</li>
</ul>
<p>Images are not backed up as part of a native DTR backup. It is expected that<br />
images are stored in a highly available storage backend that has its own independent<br />
backup schedule using non-Docker tools.</p>
<p>Run the following command from a UCP manager node to perform a DTR backup:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">read</span> -sp <span class="string">&#x27;ucp password: &#x27;</span> UCP_PASSWORD; \</span><br><span class="line">docker run --log-driver none -i --<span class="built_in">rm</span> \</span><br><span class="line">--<span class="built_in">env</span> UCP_PASSWORD=<span class="variable">$UCP_PASSWORD</span> \</span><br><span class="line">docker/dtr:2.4.1 backup \</span><br><span class="line">--ucp-insecure-tls \</span><br><span class="line">--ucp-username admin \</span><br><span class="line">&gt; ucp.bkp</span><br></pre></td></tr></table></figure>
<p>Recover DTR from backups:</p>
<p>Restoring DTR from backups should be a last resort, and only attempted when the<br />
majority of replicas are down and the cluster cannot be recovered any other way.<br />
If you have lost a single replica and the majority are still up, you should add a new<br />
replica using the <code>dtr join</code> command.</p>
<p>restore from backup, the workflow is like this:</p>
<ol>
<li>Stop and delete DTR on the node (might already be stopped)</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -it --<span class="built_in">rm</span> \</span><br><span class="line">docker/dtr:2.4.1 destroy \</span><br><span class="line">--ucp-insecure-tls</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Restore images to the shared storage backend (might not be required)</li>
<li>Restore DTR</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">read</span> -sp <span class="string">&#x27;ucp password: &#x27;</span> UCP_PASSWORD; \</span><br><span class="line">docker run -i --<span class="built_in">rm</span> \</span><br><span class="line">--<span class="built_in">env</span> UCP_PASSWORD=<span class="variable">$UCP_PASSWORD</span> \</span><br><span class="line">docker/dtr:2.4.1 restore \</span><br><span class="line">--ucp-url &lt;ENTER_YOUR_ucp-url&gt; \</span><br><span class="line">--ucp-node &lt;ENTER_DTR_NODE_hostname&gt; \</span><br><span class="line">--ucp-insecure-tls \</span><br><span class="line">--ucp-username admin \</span><br><span class="line">&lt; ucp.bkp</span><br></pre></td></tr></table></figure>
<h2 id="domain-4-networking-15-of-exam"><a class="markdownIt-Anchor" href="#domain-4-networking-15-of-exam"></a> Domain 4: Networking (15% of exam)</h2>
<h3 id="create-a-docker-bridge-network-for-a-developer-to-use-for-their-containers"><a class="markdownIt-Anchor" href="#create-a-docker-bridge-network-for-a-developer-to-use-for-their-containers"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/network/network-tutorial-standalone/">Create a Docker bridge network for a developer to use for their containers</a></h3>
<h3 id="troubleshoot-container-and-engine-logs-to-understand-a-connectivity-issue-between"><a class="markdownIt-Anchor" href="#troubleshoot-container-and-engine-logs-to-understand-a-connectivity-issue-between"></a> [Troubleshoot container and engine logs to understand a connectivity issue between</h3>
<p>containers](<a target="_blank" rel="noopener" href="https://success.docker.com/article/troubleshooting-container-networking">https://success.docker.com/article/troubleshooting-container-networking</a>)</p>
<h3 id="publish-a-port-so-that-an-application-is-accessible-externally"><a class="markdownIt-Anchor" href="#publish-a-port-so-that-an-application-is-accessible-externally"></a> <a target="_blank" rel="noopener" href="https://github.com/wsargent/docker-cheat-sheet#exposing-ports">Publish a port so that an application is accessible externally</a></h3>
<h3 id="identify-which-ip-and-port-a-container-is-externally-accessible-on"><a class="markdownIt-Anchor" href="#identify-which-ip-and-port-a-container-is-externally-accessible-on"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/port/#examples">Identify which IP and port a container is externally accessible on</a></h3>
<h3 id="describe-the-different-types-and-use-cases-for-the-built-in-network-drivers"><a class="markdownIt-Anchor" href="#describe-the-different-types-and-use-cases-for-the-built-in-network-drivers"></a> <a target="_blank" rel="noopener" href="https://blog.docker.com/2016/12/understanding-docker-networking-drivers-use-cases/">Describe the different types and use cases for the built-in network drivers</a></h3>
<h3 id="understand-the-container-network-model-and-how-it-interfaces-with-the-docker-engine"><a class="markdownIt-Anchor" href="#understand-the-container-network-model-and-how-it-interfaces-with-the-docker-engine"></a> [Understand the Container Network Model and how it interfaces with the Docker engine</h3>
<p>and network and IPAM drivers](<a target="_blank" rel="noopener" href="https://success.docker.com/article/networking/">https://success.docker.com/article/networking/</a>)</p>
<h3 id="configure-docker-to-use-external-dns"><a class="markdownIt-Anchor" href="#configure-docker-to-use-external-dns"></a> <a target="_blank" rel="noopener" href="https://gist.github.com/Evalle/7b21e0357c137875a03480428a7d6bf6">Configure Docker to use external DNS</a></h3>
<h3 id="use-docker-to-load-balance-httphttps-traffic-to-an-application-configure-l7-load"><a class="markdownIt-Anchor" href="#use-docker-to-load-balance-httphttps-traffic-to-an-application-configure-l7-load"></a> [Use Docker to load balance HTTP/HTTPs traffic to an application (Configure L7 load</h3>
<p>balancing with Docker EE)](<a target="_blank" rel="noopener" href="https://docs.docker.com/datacenter/ucp/2.2/guides/admin/configure/use-a-load-balancer/#configuration-examples">https://docs.docker.com/datacenter/ucp/2.2/guides/admin/configure/use-a-load-balancer/#configuration-examples</a>)</p>
<h3 id="understand-and-describe-the-types-of-traffic-that-flow-between-the-docker-engine"><a class="markdownIt-Anchor" href="#understand-and-describe-the-types-of-traffic-that-flow-between-the-docker-engine"></a> [Understand and describe the types of traffic that flow between the Docker engine,</h3>
<p>registry, and UCP controllers](<a target="_blank" rel="noopener" href="https://success.docker.com/article/networking/">https://success.docker.com/article/networking/</a>)</p>
<h3 id="deploy-a-service-on-a-docker-overlay-network"><a class="markdownIt-Anchor" href="#deploy-a-service-on-a-docker-overlay-network"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/network/overlay/">Deploy a service on a Docker overlay network</a></h3>
<ul>
<li>Describe the difference between “host” and “ingress” port publishing mode (<a target="_blank" rel="noopener" href="https://docs.docker.com/engine/swarm/services/#publish-a-services-ports-directly-on-the-swarm-node">Host</a>, <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/swarm/ingress/">Ingress</a>)</li>
</ul>
<h2 id="domain-5-security-15-of-exam"><a class="markdownIt-Anchor" href="#domain-5-security-15-of-exam"></a> Domain 5: Security (15% of exam)</h2>
<h3 id="describe-the-process-of-signing-an-image"><a class="markdownIt-Anchor" href="#describe-the-process-of-signing-an-image"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/security/trust/content_trust/#push-trusted-content">Describe the process of signing an image</a></h3>
<h3 id="demonstrate-that-an-image-passes-a-security-scan"><a class="markdownIt-Anchor" href="#demonstrate-that-an-image-passes-a-security-scan"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/datacenter/dtr/2.5/guides/admin/configure/set-up-vulnerability-scans/">Demonstrate that an image passes a security scan</a></h3>
<h3 id="enable-docker-content-trust"><a class="markdownIt-Anchor" href="#enable-docker-content-trust"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/security/trust/content_trust/">Enable Docker Content Trust</a></h3>
<h3 id="configure-rbac-in-ucp"><a class="markdownIt-Anchor" href="#configure-rbac-in-ucp"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/datacenter/ucp/2.2/guides/access-control/">Configure RBAC in UCP</a></h3>
<h3 id="integrate-ucp-with-ldapad"><a class="markdownIt-Anchor" href="#integrate-ucp-with-ldapad"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/datacenter/ucp/2.2/guides/admin/configure/external-auth/">Integrate UCP with LDAP/AD</a></h3>
<h3 id="demonstrate-creation-of-ucp-client-bundles"><a class="markdownIt-Anchor" href="#demonstrate-creation-of-ucp-client-bundles"></a> <a target="_blank" rel="noopener" href="https://blog.docker.com/2017/09/get-familiar-docker-enterprise-edition-client-bundles/">Demonstrate creation of UCP client bundles</a></h3>
<h3 id="describe-default-engine-security"><a class="markdownIt-Anchor" href="#describe-default-engine-security"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/security/security/">Describe default engine security</a></h3>
<h3 id="describe-swarm-default-security"><a class="markdownIt-Anchor" href="#describe-swarm-default-security"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/swarm/how-swarm-mode-works/pki/">Describe swarm default security</a></h3>
<h3 id="describe-mtls"><a class="markdownIt-Anchor" href="#describe-mtls"></a> <a target="_blank" rel="noopener" href="https://diogomonica.com/2017/01/11/hitless-tls-certificate-rotation-in-go/">Describe MTLS</a></h3>
<h3 id="identity-roles"><a class="markdownIt-Anchor" href="#identity-roles"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/datacenter/ucp/2.2/guides/access-control/permission-levels/#roles">Identity roles</a></h3>
<h3 id="describe-the-difference-between-ucp-workers-and-managers"><a class="markdownIt-Anchor" href="#describe-the-difference-between-ucp-workers-and-managers"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/datacenter/ucp/2.2/guides/architecture/">Describe the difference between UCP workers and managers</a></h3>
<ul>
<li>Describe process to use external certificates with UCP and DTR (<strong>UCP</strong> <a target="_blank" rel="noopener" href="https://success.docker.com/article/how-do-i-provide-an-externally-generated-security-certificate-during-the-ucp-command-line-installation">from cli</a>, <a target="_blank" rel="noopener" href="https://docs.docker.com/ee/ucp/admin/configure/use-your-own-tls-certificates/#configure-ucp-to-use-your-own-tls-certificates-and-keys">from GUI</a>, <a target="_blank" rel="noopener" href="https://docs.docker.com/datacenter/ucp/3.0/reference/cli/dump-certs/">print the public certificates</a>), <a target="_blank" rel="noopener" href="https://docs.docker.com/ee/dtr/admin/configure/use-your-own-tls-certificates/"><strong>DTR</strong></a>)</li>
</ul>
<h2 id="domain-6-storage-and-volumes-10-of-exam"><a class="markdownIt-Anchor" href="#domain-6-storage-and-volumes-10-of-exam"></a> Domain 6: Storage and Volumes (10% of exam)</h2>
<h3 id="state-which-graph-driver-should-be-used-on-which-os"><a class="markdownIt-Anchor" href="#state-which-graph-driver-should-be-used-on-which-os"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/storage/storagedriver/select-storage-driver/">State which graph driver should be used on which OS</a></h3>
<h3 id="demonstrate-how-to-configure-devicemapper"><a class="markdownIt-Anchor" href="#demonstrate-how-to-configure-devicemapper"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/storage/storagedriver/device-mapper-driver/#configure-docker-with-the-devicemapper-storage-driver">Demonstrate how to configure devicemapper</a></h3>
<h3 id="compare-object-storage-to-block-storage-and-explain-which-one-is-preferable-when"><a class="markdownIt-Anchor" href="#compare-object-storage-to-block-storage-and-explain-which-one-is-preferable-when"></a> [Compare object storage to block storage, and explain which one is preferable when</h3>
<p>available](<a target="_blank" rel="noopener" href="https://rancher.com/block-object-file-storage-containers/">https://rancher.com/block-object-file-storage-containers/</a>)</p>
<h3 id="summarize-how-an-application-is-composed-of-layers-and-where-those-layers-reside-on"><a class="markdownIt-Anchor" href="#summarize-how-an-application-is-composed-of-layers-and-where-those-layers-reside-on"></a> [Summarize how an application is composed of layers and where those layers reside on</h3>
<p>the filesystem](<a target="_blank" rel="noopener" href="https://docs.docker.com/storage/storagedriver/#images-and-layers">https://docs.docker.com/storage/storagedriver/#images-and-layers</a>)</p>
<h3 id="describe-how-volumes-are-used-with-docker-for-persistent-storage"><a class="markdownIt-Anchor" href="#describe-how-volumes-are-used-with-docker-for-persistent-storage"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/storage/volumes/">Describe how volumes are used with Docker for persistent storage</a></h3>
<ul>
<li>Identify the steps you would take to clean up unused images on a filesystem, also on DTR.<br />
(<a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/image_prune/">image prune</a>, <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/system_prune/">system prune</a> and <a target="_blank" rel="noopener" href="https://docs.docker.com/ee/dtr/user/manage-images/delete-images/">from DTR</a>)</li>
</ul>
<h3 id="demonstrate-how-storage-can-be-used-across-cluster-nodes"><a class="markdownIt-Anchor" href="#demonstrate-how-storage-can-be-used-across-cluster-nodes"></a> <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/extend/legacy_plugins/#volume-plugins">Demonstrate how storage can be used across cluster nodes</a></h3>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/docker-DCA/" rel="tag"># docker, DCA</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/06/08/docker-note/" rel="prev" title="Docker Note">
                  <i class="fa fa-angle-left"></i> Docker Note
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/06/17/k8s-note/" rel="next" title="k8s Note">
                  k8s Note <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2020 – 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class=""></i>
    </span>
    <span class="author" itemprop="copyrightHolder">You Xie</span>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" integrity="sha256-UF1fgpAiu3tPJN/uCqEUHNe7pnr+QR0SQDNfgglgtcM=" crossorigin="anonymous">
  <script class="next-config" data-name="katex" type="application/json">{"copy_tex_js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js","integrity":"sha256-Us54+rSGDSTvIhKKUs4kygE2ipA0RXpWWh0/zLqw3bs="}}</script>
  <script src="/js/third-party/math/katex.js"></script>



</body>
</html>
